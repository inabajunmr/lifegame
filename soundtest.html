<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>lifegame</title>

	<script>

		function a(){
// Create the instance of AudioContext
var context = new AudioContext();

// Create the instances of OscillatorNode

// Chord C
var C = context.createOscillator();
C.frequency.value = 261.63;
C.start = C.start || C.noteOn;
C.stop  = C.stop  || C.noteOff;

// Chord E
var E = context.createOscillator();
E.frequency.value = 329.63;
E.start = E.start || E.noteOn;
E.stop  = E.stop  || E.noteOff;

// Chord G
var G = context.createOscillator();
G.frequency.value = 392.00;
G.start = G.start || G.noteOn;
G.stop  = G.stop  || G.noteOff;

// for legacy browsers
context.createGain = context.createGain || context.createGainNode;

// Create the instance of GainNode
var gain = context.createGain();

var gain2 = context.createGain();
gain.gain.setValueAtTime(0.25, context.currentTime);
gain.gain.exponentialRampToValueAtTime(0.001, context.currentTime + 2);

// for preventing clipping
gain.gain.value = 0.3;
gain2.gain.value = 0.3;

// OscillatorNode (Input) -> GainNode (Master Volume) -> AudioDestinationNode (Output)
C.connect(gain);
E.connect(gain);
G.connect(gain);
gain.connect(context.destination);
gain2.connect(context.destination);

// Get base time
var t0 = context.currentTime;

// Wait time until stopping sound
var wait = 3;  // 3 sec

// Start sound (at intervals of 1 sec)
C.start(t0);
E.start(t0 + 0.8);
G.start(t0 + 0.16);	
// 1秒の減衰
// Stop sound (at intervals of 1 sec)
C.stop(t0 + wait + 1);
E.stop(t0 + wait + 2);
G.stop(t0 + wait + 3);		}
	</script>
</head>

<body>
	<button id="start" onclick="a()">start</button>

</body>
</html>